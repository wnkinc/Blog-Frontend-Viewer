<!-- views/author.ejs -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= title %></title>
  </head>
  <body>
    <header>
      <h1>Posts by <%= author.username %></h1>
      <p>Email: <%= author.email %></p>
    </header>

    <main>
      <% if (posts.length > 0) { %>
      <ul>
        <% posts.forEach(post => { %>
        <li>
          <h3><a href="/<%= post.slug %>"><%= post.title %></a></h3>
          <p>
            Published on <%= new Date(post.createdAt).toLocaleDateString() %>
          </p>
          <p><%= post.content.substring(0, 100) %>...</p>
        </li>
        <% }); %>
      </ul>
      <% } else { %>
      <p><%= message %></p>
      <% } %>
    </main>

    <footer>
      <a href="/">Back to Homepage</a>
    </footer>
  </body>
</html>
